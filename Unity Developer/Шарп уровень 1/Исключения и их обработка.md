Исключение (exception) - событие, означающее, что в программе что-то пошло не так (возникла ошибка)
Выбросить (пробросить) исключение - вызвать событие исключения

![[Exception info.png]]

![[Pasted image 20241004160134.png]]

Универсальная схема обработки исключений:

![[Pasted image 20241004152919.png]]

То что может попасться в Legacy коде:
![[Pasted image 20241004153424.png]]


catch(Exception e) { } и catch { throw; } - аналогичны друг другу.

Работа с исключениями:

Для работы с исключениями используется базовый класс System.Exception.

![[Pasted image 20241004155146.png]]
Создание своих собственных исключений: 

![[Pasted image 20241004165151.png]]

Варианты перехвата:
1. try-catch,
2. try-catch-fially:

![[Pasted image 20241004173657.png]]

![[Pasted image 20241004173744.png]]

![[Pasted image 20241004173956.png]]



Примеры использования try-catch-finally:

![[Pasted image 20241004172955.png]]

![[Pasted image 20241004173558.png]]

![[Pasted image 20241004175139.png]]


finally - оператор выполнения кода после всех обработок.

![[Pasted image 20241004175257.png]]

throw - оператор вызова исключения:

![[Pasted image 20241004173231.png]]

![[Pasted image 20241004173522.png]]

4. AppDomain.CurrentDomain.UnhandledException:

![[Pasted image 20241004175643.png]]

4. Application.ThreadException (WinForms, WPF).



Stacktrace:
1. Содержит цепочку вызовов методов до места, где произошло исключение (с точностью до номера строки),
2. Можно получить из Environment.StackTrace,
3. Можно использовать System.Diagnostic.StackTrace.